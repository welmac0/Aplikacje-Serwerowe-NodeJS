<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    // const test = async () => {
    //     return new Promise((resolve, reject) => {
    //         try {
    //             setTimeout(() => {
    //                 resolve("zwracam komunikat o powodzeniu albo wynik długotrwałej operacji")
    //             }, 2000)
    //         }
    //         catch (ex) {
    //             reject(ex)
    //         }
    //     })
    // }


    // const check = async () => { // async zawsze z awauren
    //     let info = await test() //await czeka 
    //     console.log(info);
    // }

    // check()

    // const test = async (z) => {
    //     return new Promise((resolve, reject) => {

    //         let y = z % 2

    //         try {
    //             if (y == 0) {
    //                 resolve(`${z} dzieli się bez reszty`)
    //             }
    //             else {
    //                 resolve(`${z} z resztą`)
    //             }

    //         } catch (error) {
    //             reject(error)
    //         }

    //     })
    // }

    // const check = async () => {
    //     let a = await test(3)
    //     console.log(a);
    //     let b = await test(5)
    //     console.log(b);
    //     let c = await test(6)
    //     console.log(c);
    // }

    // check()

    // const test = async (x) => {
    //     return new Promise((resolve, reject) => {
    //         let interval
    //         let i = 0
    //         try {
    //             interval = setInterval(() => {
    //                 console.log("liczę...")
    //                 if (i < x) {
    //                     i++
    //                 }
    //                 else {
    //                     clearInterval(interval)
    //                     resolve(x * x)
    //                     console.log(`wynik = ${x * x}`)
    //                 }

    //             }, 500);

    //         } catch (error) {
    //             reject(error)
    //         }

    //     })
    // }

    // check = async () => {
    //     const x = await test(4)
    //     const y = await test(3)
    //     const sum = `suma = ${x + y}`
    //     console.log(sum);
    // }

    // check()

    const waitForMe = (milisec, data) => {
        return new Promise((resolve, reject) => {
            try {
                setTimeout(() => { resolve(data) }, milisec);
            }
            catch (error) {
                reject(error)
            }
        })
    }

    const printuj = async () => {
        // a) for in object
        // let a = 0
        // const o = { a: 1, b: 2, c: 3, d: 4, e: 5 }
        // for (const i in o) {
        //     a += await waitForMe(500, o[i]);
        //     console.log("wynik pośredni: " + i + o[i]);
        // }
        // console.log("suma wartości w obiekcie: " + a);

        // b) for of array
        // let a = 0;
        // const t = [1, 2, 3, 4, 5]
        // for (const i of t) {
        //     a += await waitForMe(500, i);
        //     console.log("wynik pośredni: " + a);
        // }
        // console.log("suma: " + a);

        // c) foreach - nie działa porawnie, bo foreach nie 
        // wykonuje się po kolei tylko równlegle
        // let a = 0;
        // const t = [1, 2, 3, 4, 5]
        // t.forEach(async (item) => {
        //     a += await waitForMe(1000, item);
        //     console.log("wynik pośredni: " + a);
        // });
        // console.log("suma: " + a);

        // d) zwykły for - poprawnie
        // for (let i = 0; i < 5; ++i) {
        //     console.log(await waitForMe(1000, i));
        // }
        // console.log("koniec printowania co 1000 ms- można działać dalej!");
        // for (let i = 0; i < 5; ++i) {
        //     console.log(await waitForMe(500, i));
        // }
        // console.log("koniec printowania co 500 ms- można działać dalej!");
        // for (let i = 0; i < 5; ++i) {
        //     console.log(await waitForMe(100, i));
        // }
        // console.log("koniec printowania co 100 ms!");
    }

    printuj();
</script>